{% with route='/album' %} {% include 'navbar.html' %} {% endwith %}
<main>
    <div class="album-container">
        <div class="album-front">
            <img
                class="album-cover"
                src="/cover/{{ album[0] }}"
                onerror="this.src='/static/deadend.svg'"
            />
            <div class="album-details">
                <h1>{{ album[1] }}</h1>
                <p>{{ album[2] }}</p>
                <button
                    class="btn-play"
                    onclick="mezzo.playAlbum('{{ album[0] }}')"
                >
                    <span icon-only>play_arrow</span>
                </button>
            </div>
        </div>
        <ul class="tracklist">
            {% for song in songs %}
            <li
                class="track"
                oncontextmenu="mezzo.openSongMenu(event, this, '{{ song[0] }}', '{{ song[3]}}', '{{ song[4] }}')"
            >
                <div
                    class="track-details"
                    onclick="mezzo.playSong('{{ song[0] }}')"
                >
                    <span class="track-number">{{ loop.index }}</span>
                    <span class="track-title">{{ song[1] }}</span>
                    <span class="track-duration">2:23</span>
                </div>
                <div class="dropdown">
                    <button
                        class="btn-option"
                        onclick="mezzo.openContext(event, this)"
                    >
                        <span icon-only>more_vert</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li onclick="mezzo.playSong('{{ song[0] }}')">Play</li>
                        <li onclick="mezzo.addToQueue('{{ song[0] }}')">
                            Add to queue
                        </li>
                        <li onclick="mezzo.goToAlbum('{{ song[4]}}')">
                            Go to album
                        </li>
                        <li onclick="mezzo.goToArtist('{{ song[3] }}')">
                            Go to artist
                        </li>
                    </ul>
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
</main>
